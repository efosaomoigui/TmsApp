{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Efe-Dev\\\\Documents\\\\simplereacjs\\\\TmsApp\\\\src\\\\views\\\\lafargeLocator.jsx\";\nimport React, { Component } from \"react\";\nimport { Grid, Row, Col, Table } from \"react-bootstrap\";\nimport { Card, FormGroup } from \"components/Card/Card.jsx\";\nimport Button from \"components/CustomButton/CustomButton.jsx\";\nimport { FormInputs } from \"components/FormInputs/FormInputs.jsx\";\n\nclass lafargeLocator extends Component {\n  constructor() {\n    super();\n    this.handleChange = this.handleChange.bind(this);\n    this.findLocationByDriver = this.findLocationByDriver.bind(this);\n    this.findLocationByAsset = this.findLocationByAsset.bind(this);\n    this.state = {\n      dAssetId: '',\n      dLongitude: '',\n      dLatitude: '',\n      xDriver: '',\n      xAssetId: '',\n      address: '',\n      point: '',\n      Timestamp: '',\n      distance: ''\n    };\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n    let nam = event.target.name;\n    let val = event.target.value;\n    this.setState({\n      [nam]: val\n    });\n  }\n\n  findLocationByDriver() {\n    alert(this.state.xDriver);\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer my-token',\n        'My-Custom-Header': ''\n      },\n      body: JSON.stringify({\n        DriverId: this.state.xDriver,\n        AssetId: this.state.xAssetId\n      })\n    };\n    fetch('http://localhost/TmsId.Api/api/LafargeTms/getTruckLocationByDriver', requestOptions).then(async response => {\n      const data = await response.json();\n      alert(\"TEST \" + data.result.CurrentAddress); // check for error response\n\n      if (!response.ok) {\n        // get error message from body or default to response status\n        const error = data && data.result || response.status;\n        return Promise.reject(error);\n      }\n\n      console.log(\"LOG \" + data.result);\n      if (data != null) this.setState({\n        address: data.result.currentAddress,\n        point: data.result.longitude + ',' + data.result.latitude,\n        Timestamp: data.result.TimeStamp\n      });\n    }).catch(error => {\n      this.setState({\n        errorMessage: error.toString()\n      });\n      console.error('There was an error!', error);\n    });\n  }\n\n  findLocationByAsset() {\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer my-token',\n        'My-Custom-Header': 'foobar'\n      },\n      body: JSON.stringify({\n        DriverId: this.state.xDriver,\n        AssetId: this.state.xAssetId\n      })\n    };\n    fetch('http://localhost/TmsId.Api/api/LafargeTms/getTruckLocationByAsset', requestOptions).then(async response => {\n      const data = await response.json(); // check for error response\n\n      if (!response.ok) {\n        // get error message from body or default to response status\n        const error = data && data.message || response.status;\n        return Promise.reject(error);\n      }\n\n      this.setState({\n        address: data.result.CurrentAddress,\n        point: data.result.Longitude + ',' + data.result.Latitude,\n        Timestamp: data.result.TimeStamp\n      });\n    }).catch(error => {\n      this.setState({\n        errorMessage: error.toString()\n      });\n      console.error('There was an error!', error);\n    });\n  }\n\n  findDistance() {\n    var assetid = this.state.xAssetId;\n    var driverid = this.state.xDriver;\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer my-token',\n        'My-Custom-Header': 'foobar'\n      },\n      body: JSON.stringify({\n        DriverId: driverid,\n        AssetId: assetid\n      })\n    };\n    fetch('http://localhost/TmsId.Api/api/LafargeTms/distanceInKm', requestOptions).then(async response => {\n      const data = await response.json(); // check for error response\n\n      if (!response.ok) {\n        // get error message from body or default to response status\n        const error = data && data.message || response.status;\n        return Promise.reject(error);\n      }\n\n      this.setState({\n        address: data.CurrentAddress,\n        point: data.Longitude + ',' + data.Latitude,\n        Timestamp: data.TimeStamp\n      });\n    }).catch(error => {\n      this.setState({\n        errorMessage: error.toString()\n      });\n      console.error('There was an error!', error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      title: \"Locate Distance\",\n      category: \"Find distance by using point (Long, Lat)\",\n      ctTableFullWidth: true,\n      ctTableResponsive: true,\n      content: /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(FormInputs, {\n        ncols: [\"col-md-12\"],\n        properties: [{\n          label: \"Longitude\",\n          type: \"text\",\n          name: \"dLongitude\",\n          bsClass: \"form-control\",\n          placeholder: \"\",\n          defaultValue: \"\",\n          disabled: false,\n          onChange: this.handleChange\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(FormInputs, {\n        ncols: [\"col-md-12\"],\n        properties: [{\n          label: \"Latitude\",\n          type: \"text\",\n          name: \"dLatitude\",\n          bsClass: \"form-control\",\n          placeholder: \"\",\n          defaultValue: \"\",\n          disabled: false,\n          onChange: this.handleChange\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 1\n        }\n      }), /*#__PURE__*/React.createElement(FormInputs, {\n        ncols: [\"col-md-12\"],\n        properties: [{\n          label: \"Asset ID\",\n          type: \"text\",\n          name: \"dAssetId\",\n          bsClass: \"form-control\",\n          placeholder: \"\",\n          defaultValue: \"\",\n          disabled: false,\n          onChange: this.handleChange\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 1\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        bsStyle: \"danger\",\n        pullRight: true,\n        fill: true,\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }\n      }, \"Get Distance\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"clearfix\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }\n      }))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      title: \"Distance of Truck Asset ID: (\".concat(this.state.dAssetId, \") from Point (\").concat(this.state.dLongitude, \",\").concat(this.state.dLatitude, \")\"),\n      category: \"\",\n      ctTableFullWidth: true,\n      ctTableResponsive: true,\n      onChange: this.handleChange,\n      content: /*#__PURE__*/React.createElement(Table, {\n        hover: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 27\n        }\n      }, \"Distance From (Long/lat)\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 17\n        }\n      }, this.state.distance)))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      title: \"Find Location\",\n      category: \"Location by Asset & Driver\",\n      ctTableFullWidth: true,\n      ctTableResponsive: true,\n      content: /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(FormInputs, {\n        ncols: [\"col-md-12\"],\n        properties: [{\n          label: \"Truck/Asset\",\n          name: \"xAssetId\",\n          type: \"text\",\n          id: \"xDriver\",\n          bsClass: \"form-control\",\n          onChange: this.handleChange\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(FormInputs, {\n        ncols: [\"col-md-12\"],\n        properties: [{\n          label: \"driver\",\n          name: \"xDriver\",\n          id: \"xDriver\",\n          type: \"text\",\n          bsClass: \"form-control\",\n          onChange: this.handleChange\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 3\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        name: \"Bot1\",\n        bsStyle: \"success\",\n        pullRight: true,\n        fill: true,\n        type: \"button\",\n        onClick: this.findLocationByAsset,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 23\n        }\n      }, \"Find Location By Asset\"), \"\\xA0\", /*#__PURE__*/React.createElement(Button, {\n        name: \"Bot2\",\n        bsStyle: \"danger\",\n        fill: true,\n        type: \"button\",\n        onClick: this.findLocationByDriver,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 23\n        }\n      }, \"Find Location By Driver\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"clearfix\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 23\n        }\n      }))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      title: \"Location\",\n      ctTableFullWidth: true,\n      ctTableResponsive: true,\n      content: /*#__PURE__*/React.createElement(Table, {\n        hover: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 27\n        }\n      }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 27\n        }\n      }, \"Point (Long,Lat)\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 27\n        }\n      }, \"Timestamp\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 17\n        }\n      }, this.state.address), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 17\n        }\n      }, this.state.point), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 17\n        }\n      }, this.state.Timestamp)))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default lafargeLocator;","map":{"version":3,"sources":["C:/Users/Efe-Dev/Documents/simplereacjs/TmsApp/src/views/lafargeLocator.jsx"],"names":["React","Component","Grid","Row","Col","Table","Card","FormGroup","Button","FormInputs","lafargeLocator","constructor","handleChange","bind","findLocationByDriver","findLocationByAsset","state","dAssetId","dLongitude","dLatitude","xDriver","xAssetId","address","point","Timestamp","distance","event","setState","value","target","nam","name","val","alert","requestOptions","method","headers","body","JSON","stringify","DriverId","AssetId","fetch","then","response","data","json","result","CurrentAddress","ok","error","status","Promise","reject","console","log","currentAddress","longitude","latitude","TimeStamp","catch","errorMessage","toString","message","Longitude","Latitude","findDistance","assetid","driverid","render","label","type","bsClass","placeholder","defaultValue","disabled","onChange","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Grid, Row, Col, Table } from \"react-bootstrap\";\n\nimport { Card, FormGroup} from \"components/Card/Card.jsx\";\nimport Button from \"components/CustomButton/CustomButton.jsx\";\nimport { FormInputs } from \"components/FormInputs/FormInputs.jsx\";\n\n\nclass lafargeLocator extends Component {\n\n  constructor(){\n    super();\n    this.handleChange = this.handleChange.bind(this);\n    this.findLocationByDriver = this.findLocationByDriver.bind(this);\n    this.findLocationByAsset = this.findLocationByAsset.bind(this);\n\n    this.state = {\n      dAssetId: '',\n      dLongitude: '',\n      dLatitude: '',\n      xDriver:'',\n      xAssetId:'',\n      address:'',\n      point:'',\n      Timestamp:'',\n      distance:''\n    };\n\n  }\n\n  handleChange(event) \n  {\n    this.setState({value: event.target.value});\n    let nam = event.target.name;\n    let val = event.target.value;\n    this.setState({[nam]: val});\n  }\n\n  findLocationByDriver()\n  {\n    alert(this.state.xDriver);\n\n    const requestOptions = {\n      method: 'POST',\n      headers: { \n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer my-token',\n          'My-Custom-Header': ''\n      },\n      body: JSON.stringify({ DriverId:this.state.xDriver, AssetId: this.state.xAssetId})\n  };\n  fetch('http://localhost/TmsId.Api/api/LafargeTms/getTruckLocationByDriver', requestOptions)\n      .then(async response => {\n          const data = await response.json();\n          alert(\"TEST \"+data.result.CurrentAddress)\n\n          // check for error response\n          if (!response.ok) {\n              // get error message from body or default to response status\n              const error = (data && data.result) || response.status;\n              return Promise.reject(error);\n          }\n          \n          console.log(\"LOG \"+data.result);\n          if(data !=null)\n          this.setState({ address: data.result.currentAddress, point: data.result.longitude+','+data.result.latitude, Timestamp: data.result.TimeStamp });\n      })\n      .catch(error => {\n          this.setState({ errorMessage: error.toString() });\n          console.error('There was an error!', error);\n      });\n  }\n\n  findLocationByAsset()\n  {\n\n    const requestOptions = {\n      method: 'POST',\n      headers: { \n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer my-token',\n          'My-Custom-Header': 'foobar'\n      },\n      body: JSON.stringify({ DriverId:this.state.xDriver, AssetId: this.state.xAssetId})\n  };\n  fetch('http://localhost/TmsId.Api/api/LafargeTms/getTruckLocationByAsset', requestOptions)\n      .then(async response => {\n          const data = await response.json();\n\n          // check for error response\n          if (!response.ok) {\n              // get error message from body or default to response status\n              const error = (data && data.message) || response.status;\n              return Promise.reject(error);\n          }\n\n          this.setState({ address: data.result.CurrentAddress, point: data.result.Longitude+','+data.result.Latitude, Timestamp: data.result.TimeStamp })\n      \n      })\n      .catch(error => {\n          this.setState({ errorMessage: error.toString() });\n          console.error('There was an error!', error);\n      });\n  }\n\n  findDistance(){\n    var assetid = this.state.xAssetId;\n    var driverid = this.state.xDriver;\n\n    const requestOptions = {\n      method: 'POST',\n      headers: { \n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer my-token',\n          'My-Custom-Header': 'foobar'\n      },\n      body: JSON.stringify({ DriverId:driverid, AssetId: assetid})\n  };\n  fetch('http://localhost/TmsId.Api/api/LafargeTms/distanceInKm', requestOptions)\n      .then(async response => {\n          const data = await response.json();\n\n          // check for error response\n          if (!response.ok) {\n              // get error message from body or default to response status\n              const error = (data && data.message) || response.status;\n              return Promise.reject(error);\n          }\n\n          this.setState({ address: data.CurrentAddress, point: data.Longitude+','+data.Latitude, Timestamp: data.TimeStamp })\n      })\n      .catch(error => {\n          this.setState({ errorMessage: error.toString() });\n          console.error('There was an error!', error);\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"content\">\n        <Grid fluid>\n          <Row>\n            <Col md={5}>\n              <Card\n                title=\"Locate Distance\"\n                category=\"Find distance by using point (Long, Lat)\"\n                ctTableFullWidth\n                ctTableResponsive\n                content={\n                  <div className=\"content\">\n                  <form>\n                    <FormInputs\n                      ncols={[\"col-md-12\"]}\n                      properties={[\n                        {\n                          label: \"Longitude\",\n                          type: \"text\",\n                          name:\"dLongitude\",\n                          bsClass: \"form-control\",\n                          placeholder: \"\",\n                          defaultValue: \"\",\n                          disabled: false,\n                          onChange:this.handleChange\n                        }\n                      ]}\n                    />\n\n<FormInputs\n                      ncols={[\"col-md-12\"]}\n                      properties={[\n                        {\n                          label: \"Latitude\",\n                          type: \"text\",\n                          name:\"dLatitude\",\n                          bsClass: \"form-control\",\n                          placeholder: \"\",\n                          defaultValue: \"\",\n                          disabled: false,\n                          onChange:this.handleChange\n                        }\n                      ]}\n                    />\n\n<FormInputs\n                      ncols={[\"col-md-12\"]}\n                      properties={[\n                        {\n                          label: \"Asset ID\",\n                          type: \"text\",\n                          name:\"dAssetId\",\n                          bsClass: \"form-control\",\n                          placeholder: \"\",\n                          defaultValue: \"\",\n                          disabled: false, \n                          onChange: this.handleChange\n                        }\n                      ]}\n                    />\n                    \n                    <Button bsStyle=\"danger\" pullRight fill type=\"submit\">\n                      Get Distance\n                    </Button>\n\t\t\t\t\t\n                    <div className=\"clearfix\" />\n                    \n                  </form>\n                  </div>\n                }\n              />\n            </Col>\n            <Col md={6}>\n            <Card\n                title={`Distance of Truck Asset ID: (${this.state.dAssetId}) from Point (${this.state.dLongitude},${this.state.dLatitude})`}\n                category=\"\"\n                ctTableFullWidth\n                ctTableResponsive\n                onChange={this.handleChange}\n                content={\n                  <Table hover>\n                    <thead>\n                      <tr>\n                          <th>Distance From (Long/lat)</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                    <tr>\n                <td>{this.state.distance}</td>\n                      </tr>\n                    </tbody>\n                  </Table>\n                }\n              />\n            </Col>\n          </Row>\n\n          <Row>\n            <Col md={5}>\n              <Card\n                title=\"Find Location\"\n                category=\"Location by Asset & Driver\"\n                ctTableFullWidth\n                ctTableResponsive\n                  content={\n                    <div className=\"content\">\n                    <form>\n                      <FormInputs\n                        ncols={[\"col-md-12\"]}\n                        properties={[\n                          {\n                            label: \"Truck/Asset\",\n                            name:\"xAssetId\",\n                            type: \"text\",\n                            id:\"xDriver\",\n                            bsClass: \"form-control\",\n                            onChange:this.handleChange\n                          }\n                        ]}\n                      />\n  \n  <FormInputs\n                        ncols={[\"col-md-12\"]}\n                        properties={[\n                          {\n                            label: \"driver\",\n                            name:\"xDriver\",\n                            id:\"xDriver\",\n                            type: \"text\",\n                            bsClass: \"form-control\",\n                            onChange:this.handleChange\n                          }\n                        ]}\n                      />\n\n                      <Button name=\"Bot1\" bsStyle=\"success\" pullRight fill type=\"button\" onClick={this.findLocationByAsset}>\n                        Find Location By Asset\n                      </Button>\n                      &nbsp;\n                      <Button name=\"Bot2\" bsStyle=\"danger\"  fill type=\"button\" onClick={this.findLocationByDriver}>\n                        Find Location By Driver\n                      </Button>\n            \n                      <div className=\"clearfix\" />\n                      \n                    </form>\n                    </div>\n                  }\n              />\n            </Col>\n            <Col md={6}>\n              <Card\n                title=\"Location\"\n                ctTableFullWidth\n                ctTableResponsive\n                content={\n                  <Table hover>\n                    <thead>\n                      <tr>\n                          <th>Address</th>\n                          <th>Point (Long,Lat)</th>\n                          <th>Timestamp</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                    <tr>\n                <td>{this.state.address}</td>\n                <td>{this.state.point}</td>\n                <td>{this.state.Timestamp}</td>\n                      </tr>\n                    </tbody>\n                  </Table>\n                }\n              />\n            </Col>\n          </Row>\n\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default lafargeLocator;\n"]},"metadata":{},"sourceType":"module"}